{
  "status": 0,
  "message": "success",
  "data": {
    "pageId": "030acc1b-5401-4189-86e9-e989fa8b3404",
    "id": 18,
    "projectId": "4",
    "pageTitle": "单行任务",
    "pageName": "tasks",
    "namespace": "联通",
    "pageIcon": "",
    "groupBy": "crud",
    "updatedBy": "admin",
    "updatedCause": null,
    "hidden": null,
    "assets": [],
    "visible": null,
    "pageDesc": null,
    "pageSchema": "{\n  \"renderer\": \"page\",\n  \"body\": [\n    {\n      \"renderer\": \"table\",\n      \"name\": \"CouponTasksList\",\n      \"maxHeight\": 570,\n      \"showExport\": true,\n      \"initApi\": {\n        \"url\": \"/api/mock/coupon/task/list\",\n        \"method\": \"get\"\n      },\n      \"pageConfig\": {\n        \"pageIndex\": \"pageIndex\",\n        \"pageSize\": \"pageSize\",\n        \"total\": \"total\",\n        \"rows\": \"items\"\n      },\n      \"columns\": [\n        {\n          \"name\": \"taskId\",\n          \"label\": \"任务Id\",\n          \"body\": []\n        },\n        {\n          \"name\": \"taskName\",\n          \"label\": \"任务名称\",\n          \"body\": []\n        },\n        {\n          \"name\": \"couponNum\",\n          \"label\": \"发行量\",\n          \"body\": []\n        },\n        {\n          \"name\": \"sendNum\",\n          \"label\": \"已发行\",\n          \"body\": []\n        },\n        {\n          \"label\": \"进度\",\n          \"body\": [\n            {\n              \"renderer\": \"progress\",\n              \"showText\": true,\n              \"exp\": \"(data.sendNum*100/data.couponNum).toFixed(2)\",\n              \"color\": [\n                {\n                  \"color\": \"#f56c6c\",\n                  \"percentage\": 20\n                },\n                {\n                  \"color\": \"#e6a23c\",\n                  \"percentage\": 40\n                },\n                {\n                  \"color\": \"#5cb87a\",\n                  \"percentage\": 60\n                },\n                {\n                  \"color\": \"#1989fa\",\n                  \"percentage\": 80\n                },\n                {\n                  \"color\": \"#6f7ad3\",\n                  \"percentage\": 100\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"taskStatus\",\n          \"label\": \"任务状态\",\n          \"body\": [\n            {\n              \"renderer\": \"mapping\",\n              \"value\": \"<%=data.taskStatus%>\",\n              \"map\": {\n                \"1\": \"未执行\",\n                \"2\": \"执行中\",\n                \"3\": \"执行成功\",\n                \"4\": \"暂停中\",\n                \"5\": \"已暂停\"\n              }\n            }\n          ]\n        },\n        {\n          \"name\": \"taskStatus\",\n          \"label\": \"操作\",\n          \"body\": [\n            {\n              \"renderer\": \"action\",\n              \"text\": \"启动\",\n              \"size\": \"small\",\n              \"type\": \"primary\",\n              \"plain\": true,\n              \"actionType\": \"ajax\",\n              \"actionApi\": {\n                \"url\": \"/api/mock/tast/start\",\n                \"method\": \"post\",\n                \"params\": \"*\"\n              },\n              \"target\": \"LoopService\",\n              \"disabledOn\": \"data.taskStatus == 2\",\n              \"visibleOn\": \"![2,3].includes(data.taskStatus)\"\n            },\n            {\n              \"renderer\": \"action\",\n              \"text\": \"执行中\",\n              \"size\": \"small\",\n              \"type\": \"primary\",\n              \"plain\": true,\n              \"visibleOn\": \"data.taskStatus == 2\",\n              \"disabledOn\": \"data.taskStatus == 2\"\n            },\n            {\n              \"renderer\": \"action\",\n              \"text\": \"暂停\",\n              \"size\": \"small\",\n              \"type\": \"primary\",\n              \"plain\": true,\n              \"actionType\": \"ajax\",\n              \"disabledOn\": \"data.taskStatus == 4\",\n              \"visibleOn\": \"data.taskStatus == 2\",\n              \"actionApi\": {\n                \"url\": \"/api/mock/coupon/task/stop\",\n                \"method\": \"post\",\n                \"params\": \"*\"\n              },\n              \"target\": \"LoopService\"\n            },\n            {\n              \"renderer\": \"action\",\n              \"text\": \"暂停中\",\n              \"size\": \"small\",\n              \"type\": \"warning\",\n              \"plain\": true,\n              \"actionType\": \"ajax\",\n              \"disabledOn\": \"data.taskStatus == 4\",\n              \"visibleOn\": \"data.taskStatus == 4\"\n            },\n            {\n              \"renderer\": \"action\",\n              \"text\": \"执行成功\",\n              \"size\": \"small\",\n              \"type\": \"success\",\n              \"plain\": true,\n              \"visibleOn\": \"data.taskStatus == 3\",\n              \"disabledOn\": \"data.taskStatus == 3\"\n            },\n            {\n              \"renderer\": \"action\",\n              \"text\": \"已暂停\",\n              \"size\": \"small\",\n              \"type\": \"info\",\n              \"plain\": true,\n              \"visibleOn\": \"data.taskStatus == 5\",\n              \"disabledOn\": \"data.taskStatus == 5\"\n            },\n            {\n              \"url\": \"http://terra.biz.weibo.com/fansManage/v1/export/coupon/success?taskId=${taskId}\",\n              \"text\": \"导出成功ID\",\n              \"size\": \"small\",\n              \"type\": \"primary\",\n              \"plain\": true,\n              \"visibleOn\": \"data.taskStatus == 3\",\n              \"blank\": true,\n              \"renderer\": \"action\",\n              \"actionType\": \"url\"\n            },\n            {\n              \"url\": \"http://terra.biz.weibo.com/fansManage/v1/export/coupon/original?taskId=${taskId}\",\n              \"text\": \"导出上传ID\",\n              \"size\": \"small\",\n              \"type\": \"primary\",\n              \"plain\": true,\n              \"visibleOn\": \"data.taskStatus == 3\",\n              \"blank\": true,\n              \"renderer\": \"action\",\n              \"actionType\": \"url\"\n            },\n            {\n              \"renderer\": \"action\",\n              \"size\": \"small\",\n              \"plain\": true,\n              \"text\": \"任务详情\",\n              \"visibleOn\": \"true\",\n              \"actionType\": \"dialog\",\n              \"body\": {\n                \"title\": \"任务详情\",\n                \"body\": {\n                  \"renderer\": \"static\",\n                  \"column\": 2,\n                  \"controls\": [\n                    {\n                      \"name\": \"taskName\",\n                      \"label\": \"任务名称\"\n                    },\n                    {\n                      \"name\": \"taskReason\",\n                      \"label\": \"任务描述\"\n                    },\n                    {\n                      \"name\": \"couponNum\",\n                      \"label\": \"后台记录发行量\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"sendNum\",\n                      \"label\": \"后台记录已发行量\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"circulation\",\n                      \"label\": \"优惠券系统记录发行量\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"receiveNum\",\n                      \"label\": \"优惠券系统记录已发行量\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"usageNum\",\n                      \"label\": \"已使用券数量\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"title\",\n                      \"label\": \"标题\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"type\",\n                      \"label\": \"优惠券类型\",\n                      \"body\": {\n                        \"renderer\": \"mapping\",\n                        \"value\": \"<%=data.type%>\",\n                        \"map\": {\n                          \"1\": \"满减\",\n                          \"2\": \"折扣\",\n                          \"3\": \"代金券\"\n                        }\n                      }\n                    },\n                    {\n                      \"name\": \"discountRate\",\n                      \"label\": \"折扣率(非折扣券默认1)\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"fullPrice\",\n                      \"label\": \"满减券的满额(元)\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"discountPrice\",\n                      \"label\": \"优惠金额(元)\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"scope\",\n                      \"label\": \"券使用范围\",\n                      \"body\": {\n                        \"renderer\": \"mapping\",\n                        \"value\": \"<%=data.scope%>\",\n                        \"initApi\": {\n                          \"url\": \"/fansManage/v1/coupon/task/scope\",\n                          \"method\": \"get\",\n                          \"cached\": true\n                        },\n                        \"silentMessage\": true\n                      }\n                    },\n                    {\n                      \"name\": \"useRule\",\n                      \"label\": \"券使用规则\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"endValidTime\",\n                      \"label\": \"券码有效期结束时间\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"beginValidTime\",\n                      \"label\": \"券码有效期开始时间\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"endTime\",\n                      \"label\": \"券模版有效期结束时间\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"beginTime\",\n                      \"label\": \"券模版有效期开始时间\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"createTime\",\n                      \"label\": \"创建券模版时间\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"updateTime\",\n                      \"label\": \"券模版更新时间\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"operator\",\n                      \"label\": \"任务操作人\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"taskStatus\",\n                      \"label\": \"任务状态\",\n                      \"width\": \"100\",\n                      \"body\": {\n                        \"renderer\": \"mapping\",\n                        \"value\": \"<%=data.taskStatus%>\",\n                        \"map\": {\n                          \"1\": \"未执行\",\n                          \"2\": \"执行中\",\n                          \"3\": \"执行成功\",\n                          \"4\": \"暂停中\",\n                          \"5\": \"已暂停\"\n                        }\n                      }\n                    },\n                    {\n                      \"name\": \"extend\",\n                      \"label\": \"扩展字段\",\n                      \"width\": \"100\"\n                    },\n                    {\n                      \"name\": \"dateType\",\n                      \"label\": \"优惠券有效期类型\",\n                      \"width\": \"100\",\n                      \"body\": {\n                        \"renderer\": \"mapping\",\n                        \"value\": \"<%=data.dateType%>\",\n                        \"map\": {\n                          \"0\": \"自然天\",\n                          \"1\": \"精确到秒\"\n                        }\n                      }\n                    }\n                  ],\n                  \"columns\": [\n                    {\n                      \"label\": \"优惠券名称\",\n                      \"name\": \"taskName\",\n                      \"align\": \"\",\n                      \"body\": []\n                    },\n                    {\n                      \"label\": \"已下发\",\n                      \"name\": \"sendNum\",\n                      \"align\": \"\",\n                      \"body\": []\n                    },\n                    {\n                      \"label\": \"优惠券总数\",\n                      \"name\": \"couponNum\",\n                      \"align\": \"\",\n                      \"body\": []\n                    }\n                  ],\n                  \"border\": true\n                },\n                \"fullscreen\": false,\n                \"center\": false,\n                \"draggable\": false,\n                \"closeOnClickModal\": true,\n                \"closeOnPressEscape\": true\n              },\n              \"actionApi\": {\n                \"url\": \"\",\n                \"method\": \"post\",\n                \"params\": {}\n              },\n              \"params\": {}\n            },\n            {\n              \"renderer\": \"service\",\n              \"name\": \"LoopService\",\n              \"silentMessage\": true,\n              \"silentLoading\": true,\n              \"initApi\": {\n                \"url\": \"/api/mock/bp/state\",\n                \"method\": \"get\",\n                \"params\": \"*\"\n              },\n              \"linkedOn\": \"data.taskId == target.taskId\",\n              \"sendOn\": \"[2,4,'2','4'].includes(data.taskStatus)\",\n              \"reload\": \"CouponTasksList\",\n              \"stopAutoRefreshWhen\": \"[3,\\\"3\\\",5,\\\"5\\\"].includes(data.taskStatus)\",\n              \"interval\": 3000,\n              \"timeout\": 200000\n            }\n          ]\n        }\n      ],\n      \"actions\": [],\n      \"hasPageInfo\": false,\n      \"reactive\": true,\n      \"highlightCurrentRow\": false,\n      \"rowKey\": \"taskId\"\n    }\n  ]\n}",
    "version": 0,
    "status": 1,
    "createdAt": "2023-11-25T15:20:50.000Z",
    "updatedAt": "2023-11-25T15:20:50.000Z"
  }
}